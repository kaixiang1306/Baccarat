window.__require=function t(e,o,n){function r(a,c){if(!o[a]){if(!e[a]){var s=a.split("/");if(s=s[s.length-1],!e[s]){var l="function"==typeof __require&&__require;if(!c&&l)return l(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+a+"'")}a=s}var p=o[a]={exports:{}};e[a][0].call(p.exports,function(t){return r(e[a][1][t]||t)},p,p.exports,t,e,o,n)}return o[a].exports}for(var i="function"==typeof __require&&__require,a=0;a<n.length;a++)r(n[a]);return r}({longhuMgr:[function(t,e,o){"use strict";cc._RF.push(e,"00672Wug2pFtLJSM3OKs/E2","longhuMgr");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./tsJetton"),c=cc._decorator,s=c.ccclass,l=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.labelGameTime=null,e.nodeOtehrPlayer=null,e.pfJetton=null,e.stopGamespine=null,e.nodeWaitStatus=null,e.JettonNode=null,e.arrChipItem=[],e.arrBetArea=[],e.arrMoneyLabel=[],e.arrUserMoneyLabel=[],e.arrAreaWin=[],e.finishLabel=null,e.BETTIME=0,e.SelectMoney=0,e.TotalMoney=0,e.curcbJettonIndex=null,e.curpfJetton=null,e.isStopBet=!1,e}return r(e,t),e.prototype.onLoad=function(){cc.view.resizeWithBrowserSize(!0)},e.prototype.OnGameStartAction=function(){var t=this;this.labelGameTime.string="",this.BETTIME=30,this.schedule(function(){t.labelGameTime.string=String(t.BETTIME),t.BETTIME--,t.BETTIME<0&&t.OnBetFinish()},1,this.BETTIME,0)},e.prototype.OnBetFinish=function(){var t=this;this.isStopBet=!0,this.stopGamespine.active=!0,this.labelGameTime.string="";var e=this.stopGamespine.getComponent(sp.Skeleton);e.loop=!1,e.animation="animation",e.setCompleteListener(function(){t.stopGamespine.active=!1,t.FinishLabel()})},e.prototype.FinishLabel=function(){var t=this,e=Math.floor(3*Math.random());switch(e){case 0:this.finishLabel.string="\u9592\u52dd ";break;case 1:this.finishLabel.string="\u548c\u52dd ";break;case 2:this.finishLabel.string="\u838a\u52dd "}e==this.curcbJettonIndex?this.finishLabel.string+="\u4f60\u8d0f "+this.TotalMoney:this.finishLabel.string+="\u4f60\u8f38 "+this.TotalMoney,this.finishLabel.node.active=!0,this.scheduleOnce(function(){t.goEnd()},7)},e.prototype.goEnd=function(){var t=this;this.nodeWaitStatus.active=!0,this.scheduleOnce(function(){t.isStopBet=!1,t.TotalMoney=0,t.curcbJettonIndex=null,t.curpfJetton=null,t.finishLabel.node.active=!1,t.nodeWaitStatus.active=!1,t.JettonNode.removeAllChildren(),cc.find("Canvas/PublicItem/nodeCompareCard/nodeCard").removeAllChildren();for(var e=0;e<t.arrBetArea.length;e++)t.arrAreaWin[e].active=!1,t.arrMoneyLabel[e].string="0",t.arrUserMoneyLabel[e].string="\u6211 0"},3)},e.prototype.OnButtonJetton=function(t,e){for(var o=0;o<this.arrChipItem.length;o++){var n=this.arrChipItem[o].getChildByName("Select");n&&(n.active=o==e)}switch(parseInt(e)){case 0:this.SelectMoney=10;break;case 1:this.SelectMoney=50;break;case 2:this.SelectMoney=100;break;case 3:this.SelectMoney=500;break;case 4:this.SelectMoney=1e3;break;case 5:this.SelectMoney=5e3;break;case 6:this.SelectMoney=1e4;break;case 7:this.SelectMoney=5e4}console.log(this.SelectMoney)},e.prototype.OnClickJetton=function(t,e){0==this.isStopBet&&(null==this.curcbJettonIndex&&(this.curcbJettonIndex=e,this.OnGameStartAction()),this.SelectMoney>0&&this.curcbJettonIndex==e&&(this.TotalMoney+=this.SelectMoney,this.PlaceJettonAction(0,this.SelectMoney,e),this.arrUserMoneyLabel[e].string="\u6211 "+(Number(this.arrUserMoneyLabel[e].string.replace(/[^0-9]/gi,""))+this.SelectMoney).toString()))},e.prototype.PlaceJettonAction=function(t,e,o){var n=this.arrBetArea[o],r=n.getPosition().x+100,i=n.getPosition().y+80,a=n.getPosition().x-100,c=n.getPosition().y-80,s=this.getRandomInt(a,r),l=this.getRandomInt(c,i),p=cc.v2(s,l);this.arrMoneyLabel[o].string=Number(this.arrMoneyLabel[o].string)+e,this.OnFramePlaceJetton(t,o,e,p)},e.prototype.getRandomInt=function(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t))+t},e.prototype.OnFramePlaceJetton=function(t,e,o,n){if(null==this.curpfJetton){var r=cc.instantiate(this.pfJetton);r.setParent(this.JettonNode),r.setPosition(this.nodeOtehrPlayer.getPosition()),r.getComponent(a.default).OnInitJetton(o),this.curpfJetton=r,cc.tween(r).to(0,{scale:1.5}).to(.5,{position:n,scale:1.2}).to(.5,{scale:1}).start()}else this.curpfJetton.getComponent(a.default).OnInitJetton(this.TotalMoney)},e.prototype.onClickBtnback=function(){window.ManagerHelp_SetWaitLockLayer(window.WAIT_OPENED),cc.director.loadScene("Lobby")},i([l(cc.Label)],e.prototype,"labelGameTime",void 0),i([l(cc.Node)],e.prototype,"nodeOtehrPlayer",void 0),i([l(cc.Prefab)],e.prototype,"pfJetton",void 0),i([l(cc.Node)],e.prototype,"stopGamespine",void 0),i([l(cc.Node)],e.prototype,"nodeWaitStatus",void 0),i([l(cc.Node)],e.prototype,"JettonNode",void 0),i([l([cc.Node])],e.prototype,"arrChipItem",void 0),i([l([cc.Node])],e.prototype,"arrBetArea",void 0),i([l([cc.Label])],e.prototype,"arrMoneyLabel",void 0),i([l([cc.Label])],e.prototype,"arrUserMoneyLabel",void 0),i([l([cc.Node])],e.prototype,"arrAreaWin",void 0),i([l(cc.Label)],e.prototype,"finishLabel",void 0),i([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./tsJetton":"tsJetton"}],tsJetton:[function(t,e,o){"use strict";cc._RF.push(e,"5b0daszvPhGO5p9BauMuPib","tsJetton");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.jettonLabel=null,e.jettonFrame=[],e}return r(e,t),e.prototype.OnInitJetton=function(t){this.jettonLabel.string=this.kFormatter(t),this.node.getComponent(cc.Sprite).spriteFrame=t<500?this.jettonFrame[0]:t>500&&t<1e3?this.jettonFrame[1]:t>1e3&&t<5e3?this.jettonFrame[2]:t>5e3&&t<1e4?this.jettonFrame[3]:this.jettonFrame[4]},e.prototype.kFormatter=function(t){return String(Math.abs(t)>999?Math.sign(t)*parseInt((Math.abs(t)/1e3).toFixed(1))+"k":Math.sign(t)*Math.abs(t))},i([s(cc.Label)],e.prototype,"jettonLabel",void 0),i([s([cc.SpriteFrame])],e.prototype,"jettonFrame",void 0),i([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}]},{},["longhuMgr","tsJetton"]);